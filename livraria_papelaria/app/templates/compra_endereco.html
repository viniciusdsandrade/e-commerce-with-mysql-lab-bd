{% extends 'components/base.html' %}
{% block title %} Compra {% endblock %}
{% block content %}
    {% include 'components/content_title.html' with title='Compra' %}
    <h5>Endereço</h5>
    <form class="d-flex flex-column gap-4" method="post">
        {% csrf_token %}
        <div class="input-group">
            <div class="input-group-text">
                <input checked class="form-check-input mt-0" name="endereco" type="radio" value="Existente">
            </div>
            <label class="input-group-text" for="inputGroupSelect01">Existente</label>
            <select class="form-select" id="inputGroupSelect01">
                <option selected>Escolha...</option>
                {% for endereco in enderecos %}
                    <option {% if endereco.is_principal %} selected {% endif %} value="{{ endereco.id }}">{{ endereco.nome }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="input-group">
            <div class="input-group-text">
                <input {% if not enderecos %} checked {% endif %} class="form-check-input mt-0" name="endereco" type="radio" value="Novo">
            </div>
            <label class="input-group-text" for="inputGroupSelect01">Novo</label>
            <div class="p-3 border">
                {{ formulario.as_p }}

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="gridCheck">
                    <label class="form-check-label" for="gridCheck">
                        Registrar este endereço na minha conta
                    </label>
                </div>
            </div>
        </div>

        <a href="{% url 'compra_transportadora' %}" type="submit" class="btn btn-primary">Continuar</a>
    </form>
{% endblock %}